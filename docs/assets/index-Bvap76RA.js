(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}})();const l=document.getElementById("tareaForm"),d=document.getElementById("mostrar");l.addEventListener("submit",async r=>{r.preventDefault();const e=document.getElementById("titulo").value,n=document.getElementById("completada").checked;u({titulo:e,completada:n})});const u=async r=>{try{(await fetch("http://localhost:3000/tareas",{method:"POST",body:JSON.stringify(r)})).ok&&(l.reset(),m())}catch(e){console.error(`Error!!!:  ${e}`)}},m=async()=>{try{const r=await fetch("http://localhost:3000/tareas");if(r.ok){const e=await r.json();d.innerHTML="",p(e)}}catch{console.log("Error!!")}},p=r=>{r.forEach(e=>{const n=document.createElement("tr"),c=document.createElement("td");c.textContent=e.id,n.appendChild(c);const t=document.createElement("td");t.textContent=e.titulo,n.appendChild(t);const o=document.createElement("td");o.textContent=e.completada,n.appendChild(o);const s=document.createElement("td"),a=document.createElement("button");a.classList.add("btn-icon");const i=document.createElement("img");i.src="./assets/img/icons8-eliminar-25.png",a.appendChild(i),a.addEventListener("click",()=>f(e.id)),s.appendChild(a),n.appendChild(s),d.appendChild(n)})},f=async r=>{try{(await fetch(`http://localhost:3000/tareas/${r}`,{method:"DELETE"})).ok&&m()}catch(e){console.error(`Error al eliminar la tarea con ID ${r}, ${e}`)}};
